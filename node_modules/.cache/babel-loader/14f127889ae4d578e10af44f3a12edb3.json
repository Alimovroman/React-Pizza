{"ast":null,"code":"import _slicedToArray from\"C:/Users/Ramon/Documents/Stydieng_the_React/React-Pizza/react-pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useDispatch}from\"react-redux\";import{Link}from\"react-router-dom\";import{showingTotalPrice}from\"../../../state/cart-reducer\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PizzaBlock=function PizzaBlock(_ref){var id=_ref.id,name=_ref.name,price=_ref.price,imageUrl=_ref.imageUrl,sizes=_ref.sizes,types=_ref.types;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),pizzaCount=_useState2[0],setPizzaCount=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),pizzaSize=_useState4[0],setPizzaSize=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),pizzaType=_useState6[0],setPizzaType=_useState6[1];var pizzaCategory=['тонкое','традиционное'];var dispatch=useDispatch();var onAddPizza=function onAddPizza(){var item={id:id,name:name,price:price,imageUrl:imageUrl,size:sizes[pizzaSize],type:pizzaCategory[pizzaType]};// Возможно надо фиксить типы и удалить коунт\ndispatch(showingTotalPrice(item));setPizzaCount(pizzaCount+1);};return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\".concat(id),children:/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(e,i){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setPizzaType(i);},className:pizzaType===i?\"active\":'',children:pizzaCategory[e]},i);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(s,i){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setPizzaSize(i);},className:pizzaSize===i?\"active\":'',children:[s,\" \\u0441\\u043C.\"]},i);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u043E\\u0442 \",price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"button button--outline button--add\",onClick:onAddPizza,children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),pizzaCount>0&&/*#__PURE__*/_jsx(\"i\",{children:pizzaCount})]})]})]})});};export default PizzaBlock;","map":{"version":3,"names":["useState","useDispatch","Link","showingTotalPrice","React","PizzaBlock","id","name","price","imageUrl","sizes","types","pizzaCount","setPizzaCount","pizzaSize","setPizzaSize","pizzaType","setPizzaType","pizzaCategory","dispatch","onAddPizza","item","size","type","map","e","i","s"],"sources":["C:/Users/Ramon/Documents/Stydieng_the_React/React-Pizza/react-pizza/src/components/Pages/Pizza-block/Pizza-block.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { showingTotalPrice } from \"../../../state/cart-reducer\";\r\nimport React from \"react\";\r\n\r\ntype PizzaBlockProps = {\r\n  id: number, name: string, price: number, imageUrl: string, sizes: number[], types: number[]\r\n}\r\n\r\nconst PizzaBlock: React.FC <PizzaBlockProps> = ({ id, name, price, imageUrl, sizes, types }) => {\r\n  const [pizzaCount, setPizzaCount] = useState(0);\r\n  const [pizzaSize, setPizzaSize] = useState(0);\r\n  const [pizzaType, setPizzaType] = useState(0)\r\n  const pizzaCategory = ['тонкое', 'традиционное'];\r\n  const dispatch = useDispatch();\r\n\r\n  const onAddPizza = () => {\r\n    let item:{\r\n      id: number, name: string, price: number, imageUrl: string, size: number, type: string\r\n    } = { id, name, price, imageUrl, size: sizes[pizzaSize], type: pizzaCategory[pizzaType]} // Возможно надо фиксить типы и удалить коунт\r\n    dispatch(showingTotalPrice(item))\r\n    setPizzaCount(pizzaCount + 1);\r\n  }\r\n  return (\r\n    <div className=\"pizza-block-wrap\">\r\n      <div className=\"pizza-block\">\r\n        <Link to={`/${id}`}>\r\n          <img\r\n            className=\"pizza-block__image\"\r\n            src={imageUrl}\r\n            alt=\"Pizza\"\r\n          />\r\n        </Link>\r\n        <h4 className=\"pizza-block__title\">{name}</h4>\r\n        <div className=\"pizza-block__selector\">\r\n          <ul>\r\n            {types.map((e, i) => <li key={i} onClick={() => setPizzaType(i)} className={pizzaType === i ? \"active\" : ''}>{pizzaCategory[e]}</li>)}\r\n          </ul>\r\n          <ul>\r\n            {sizes.map((s, i) => <li key={i} onClick={() => setPizzaSize(i)} className={pizzaSize === i ? \"active\" : ''}>{s} см.</li>)}\r\n          </ul>\r\n        </div>\r\n        <div className=\"pizza-block__bottom\">\r\n          <div className=\"pizza-block__price\">от {price} ₽</div>\r\n          <button className=\"button button--outline button--add\" onClick={onAddPizza}>\r\n            <svg\r\n              width=\"12\"\r\n              height=\"12\"\r\n              viewBox=\"0 0 12 12\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                fill=\"white\"\r\n              />\r\n            </svg>\r\n            <span>Добавить</span>\r\n            {pizzaCount > 0 && <i>{pizzaCount}</i>}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default PizzaBlock;"],"mappings":"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"},"metadata":{},"sourceType":"module"}