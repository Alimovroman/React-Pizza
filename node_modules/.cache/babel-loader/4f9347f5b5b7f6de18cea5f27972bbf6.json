{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Ramon/Documents/Stydieng_the_React/React-Pizza/react-pizza/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Ramon/Documents/Stydieng_the_React/React-Pizza/react-pizza/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import axios from\"axios\";var initialState={pizzasItems:[],status:'loading'};var pizzasReducer=createSlice({name:'pizzasItem',initialState:initialState,reducers:{setPizzasItems:function setPizzasItems(state,action){state.pizzasItems=action.payload;}},extraReducers:function extraReducers(builder){builder.addCase(getPizzas.pending,function(state){state.status='loading';});builder.addCase(getPizzas.fulfilled,function(state,action){state.pizzasItems=action.payload;state.status='success';});builder.addCase(getPizzas.rejected,function(state){state.status='error';state.pizzasItems=[];});}});export var getPizzas=createAsyncThunk('pizzasItem/getPizzas',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var search,pagination,category,sortBy,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:search=_ref.search,pagination=_ref.pagination,category=_ref.category,sortBy=_ref.sortBy;_context.next=3;return axios.get(\"https://62a5c5ab430ba53411cc40f9.mockapi.io/items?\".concat(category,\"&\").concat(search,\"&\").concat(sortBy,\"&\").concat(pagination));case 3:response=_context.sent;return _context.abrupt(\"return\",response.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());export var pizzaItemSelector=function pizzaItemSelector(state){return state.pizzasItem;};var setPizzasItems=pizzasReducer.actions.setPizzasItems;export{setPizzasItems};export default pizzasReducer.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","initialState","pizzasItems","status","pizzasReducer","name","reducers","setPizzasItems","state","action","payload","extraReducers","builder","addCase","getPizzas","pending","fulfilled","rejected","search","pagination","category","sortBy","get","response","data","pizzaItemSelector","pizzasItem","actions","reducer"],"sources":["C:/Users/Ramon/Documents/Stydieng_the_React/React-Pizza/react-pizza/src/state/pizzas-reducer.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { RootState } from \"./store\";\r\n\r\nexport type PizzaType = {\r\n  category: number,\r\n  id: number,\r\n  imageUrl: string,\r\n  name: string,\r\n  price: number,\r\n  rating: number,\r\n  sizes: number[],\r\n  types: number[]\r\n}\r\n\r\ninterface PizzaState {\r\n  pizzasItems: PizzaType[],\r\n  status: string\r\n}\r\n\r\nconst initialState = {\r\n  pizzasItems: [],\r\n  status: 'loading'\r\n} as PizzaState;\r\n\r\nconst pizzasReducer = createSlice({\r\n  name: 'pizzasItem',\r\n  initialState,\r\n  reducers: {\r\n    setPizzasItems: (state, action: PayloadAction<PizzaType[]>) => {\r\n      state.pizzasItems = action.payload\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(getPizzas.pending, state => {\r\n      state.status = 'loading';\r\n    })\r\n    builder.addCase(getPizzas.fulfilled, (state, action: PayloadAction<PizzaType[]>) => {\r\n      state.pizzasItems = action.payload;\r\n      state.status = 'success'\r\n    })\r\n    builder.addCase(getPizzas.rejected, (state) => {\r\n      state.status = 'error';\r\n      state.pizzasItems = [];\r\n    })\r\n  }\r\n});\r\n\r\ntype GetPizzasProps = {\r\n  search: string, pagination: string, category: string, sortBy: string\r\n}\r\nexport const getPizzas = createAsyncThunk(\r\n  'pizzasItem/getPizzas',\r\n  async ({ search, pagination, category, sortBy }: GetPizzasProps) => {\r\n    //debugger\r\n    let response = await axios.get(`https://62a5c5ab430ba53411cc40f9.mockapi.io/items?${category}&${search}&${sortBy}&${pagination}`)\r\n    //dispatch(setPizzasItems(response.data))\r\n    return response.data as PizzaType[]\r\n  }\r\n);\r\n\r\nexport const pizzaItemSelector = (state: RootState) => state.pizzasItem;\r\n\r\n\r\n\r\nexport const { setPizzasItems } = pizzasReducer.actions;\r\nexport default pizzasReducer.reducer;"],"mappings":"kUAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA6D,kBAA7D,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAmBA,GAAMC,aAAY,CAAG,CACnBC,WAAW,CAAE,EADM,CAEnBC,MAAM,CAAE,SAFW,CAArB,CAKA,GAAMC,cAAa,CAAGL,WAAW,CAAC,CAChCM,IAAI,CAAE,YAD0B,CAEhCJ,YAAY,CAAZA,YAFgC,CAGhCK,QAAQ,CAAE,CACRC,cAAc,CAAE,wBAACC,KAAD,CAAQC,MAAR,CAA+C,CAC7DD,KAAK,CAACN,WAAN,CAAoBO,MAAM,CAACC,OAA3B,CACD,CAHO,CAHsB,CAQhCC,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CAACC,OAAR,CAAgBC,SAAS,CAACC,OAA1B,CAAmC,SAAAP,KAAK,CAAI,CAC1CA,KAAK,CAACL,MAAN,CAAe,SAAf,CACD,CAFD,EAGAS,OAAO,CAACC,OAAR,CAAgBC,SAAS,CAACE,SAA1B,CAAqC,SAACR,KAAD,CAAQC,MAAR,CAA+C,CAClFD,KAAK,CAACN,WAAN,CAAoBO,MAAM,CAACC,OAA3B,CACAF,KAAK,CAACL,MAAN,CAAe,SAAf,CACD,CAHD,EAIAS,OAAO,CAACC,OAAR,CAAgBC,SAAS,CAACG,QAA1B,CAAoC,SAACT,KAAD,CAAW,CAC7CA,KAAK,CAACL,MAAN,CAAe,OAAf,CACAK,KAAK,CAACN,WAAN,CAAoB,EAApB,CACD,CAHD,EAID,CApB+B,CAAD,CAAjC,CA0BA,MAAO,IAAMY,UAAS,CAAGhB,gBAAgB,CACvC,sBADuC,6FAEvC,wLAASoB,MAAT,MAASA,MAAT,CAAiBC,UAAjB,MAAiBA,UAAjB,CAA6BC,QAA7B,MAA6BA,QAA7B,CAAuCC,MAAvC,MAAuCA,MAAvC,uBAEuBrB,MAAK,CAACsB,GAAN,6DAA+DF,QAA/D,aAA2EF,MAA3E,aAAqFG,MAArF,aAA+FF,UAA/F,EAFvB,QAEMI,QAFN,+CAISA,QAAQ,CAACC,IAJlB,wDAFuC,gEAAlC,CAUP,MAAO,IAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,CAACjB,KAAD,QAAsBA,MAAK,CAACkB,UAA5B,EAA1B,CAIA,GAAQnB,eAAR,CAA2BH,aAAa,CAACuB,OAAzC,CAAQpB,cAAR,C,uBACP,cAAeH,cAAa,CAACwB,OAA7B"},"metadata":{},"sourceType":"module"}